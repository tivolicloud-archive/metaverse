<mat-toolbar color="primary">
	<mat-toolbar-row>
		<div class="container-fluid" style="max-width: 1600px">
			<div class="row align-items-center">
				<a mat-button routerLink="/">
					<img
						src="/assets/logo-light-nopink.png"
						alt="Tivoli Cloud VR logo"
						style="height: 32px;"
					/>
				</a>

				<button class="menu-item" mat-button (click)="openDownload()">
					<mat-icon>get_app</mat-icon> Download
				</button>

				<a
					class="menu-item"
					href="https://blog.tivolicloud.com"
					target="_blank"
					mat-button
				>
					<img
						src="/assets/icons/ghost-white.svg"
						alt="Ghost"
						style="height: 20px"
					/>
					Blog
				</a>

				<a
					class="menu-item"
					href="https://docs.tivolicloud.com"
					target="_blank"
					mat-button
				>
					<mat-icon>bookmarks</mat-icon> Docs
				</a>

				<button class="menu-item" mat-button routerLink="/about-us">
					<mat-icon>people_alt</mat-icon> About us
				</button>

				<!-- <button class="menu-item" mat-button routerLink="/explore">
					<mat-icon>public</mat-icon> Explore
				</button> -->

				<span style="flex-grow: 1"></span>

				<a
					class="menu-item white"
					href="/discord"
					target="_blank"
					mat-button
				>
					<img
						src="/assets/icons/discord.svg"
						alt="Discord"
						style="height: 24px"
					/>
					Discord
				</a>

				<button
					class="menu-item white"
					mat-button
					routerLink="/auth/sso/gitlab"
				>
					<img
						src="/assets/icons/gitlab.svg"
						alt="GitLab"
						style="height: 22px"
					/>
					GitLab
				</button>

				<span style="flex-grow: 1"></span>

				<a *ngIf="!user" mat-flat-button (click)="onSignIn()">
					<mat-icon>account_circle</mat-icon> Sign in
				</a>

				<button *ngIf="user" mat-button [matMenuTriggerFor]="appMenu">
					<div
						style="display: inline-block; text-align: right; margin-right: 8px;"
					>
						Signed in as <b>{{ user.profile.username }}</b>
						<br />
						<div style="opacity: 0.5; margin-top: -16px;">
							{{ user.profile.email }}
						</div>
					</div>
					<img
						class="user-image"
						src="/api/user/{{ user.profile.username }}/image"
						[alt]="'User image of ' + user.profile.username"
					/>
				</button>

				<ng-container *ngIf="user">
					<button
						class="admin-button"
						*ngIf="user.admin"
						mat-button
						routerLink="/admin"
					>
						<mat-icon>build</mat-icon><br />Admin
					</button>
				</ng-container>

				<mat-menu #appMenu="matMenu">
					<button mat-menu-item routerLink="user/files">
						<mat-icon>folder</mat-icon> My files
					</button>
					<button mat-menu-item routerLink="user/worlds">
						<mat-icon>public</mat-icon> My worlds
					</button>
					<button mat-menu-item routerLink="user/settings">
						<mat-icon>settings</mat-icon> User settings
					</button>
					<button mat-menu-item (click)="onSignOut()">
						<mat-icon>arrow_back</mat-icon> Sign out
					</button>
				</mat-menu>
			</div>
		</div>
	</mat-toolbar-row>
</mat-toolbar>
