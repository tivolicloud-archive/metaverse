<mat-card
	class="domain-card"
	[ngClass]="{ offline: !domain.online, small: true }"
>
	<div mat-card-image>
		<div
			class="thumbnail"
			[ngStyle]="{ backgroundImage: 'url(' + thumbnailURL + ')' }"
		>
			<p>{{ users }}</p>
		</div>
	</div>
	<mat-card-header>
		<mat-card-title class="ellipses">{{ domain.label }}</mat-card-title>
		<mat-card-subtitle class="ellipses">{{
			domain.username
		}}</mat-card-subtitle>
	</mat-card-header>
	<mat-card-content>
		<div class="ellipses">
			{{ domain.description }}
		</div>
	</mat-card-content>
	<mat-card-actions>
		<button mat-button *ngIf="inInterface" (click)="onJoinDomain()">
			<mat-icon>launch</mat-icon> Join
			<span style="opacity: 0.5; font-size: 0.8em; padding-left: 8px;">
				{{
					domain.iceServerAddress
						? ""
						: domain.networkAddress + ":" + domain.networkPort
				}}
			</span>
		</button>
		<button mat-button *ngIf="editMode" (click)="onEditDomain()">
			<mat-icon>edit</mat-icon> Edit details
		</button>
		<a
			mat-button
			*ngIf="editMode && !domain.iceServerAddress"
			[href]="domainSettings"
			target="_blank"
		>
			<mat-icon>settings</mat-icon> Open settings
			<span style="opacity: 0.5; font-size: 0.8em; padding-left: 8px;">
				{{ domain.networkAddress + ":" + domain.networkPort }}
			</span>
		</a>
		<button mat-button *ngIf="editMode" (click)="onGenerateToken()">
			<mat-icon>vpn_key</mat-icon> Generate new access token
		</button>
		<a mat-button *ngIf="editMode" [href]="domain.url" target="_blank">
			<mat-icon>link</mat-icon> World link
		</a>
	</mat-card-actions>
</mat-card>
