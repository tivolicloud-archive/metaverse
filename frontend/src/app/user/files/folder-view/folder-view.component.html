<div class="view">
	<div
		*ngFor="let folder of folder.folders"
		class="item folder"
		(click)="onFolderClick.emit(folder)"
	>
		<div class="contents">
			<mat-icon class="icon">folder</mat-icon>
			{{ folder.name }}
		</div>
	</div>
</div>
<div class="view">
	<div
		class="item file"
		*ngFor="let file of folder.files"
		(click)="onItemClick(file)"
		oncontextmenu="return false;"
		(contextmenu)="onItemContextMenu(file, $event)"
	>
		<div class="thumbnail">
			<mat-icon class="icon">{{ file.icon }}</mat-icon>
			<div
				class="image"
				*ngIf="file.type == 'image'"
				[style.backgroundImage]="'url(' + file.url + ')'"
			></div>
		</div>
		<div class="contents">
			<mat-icon class="icon">{{ file.icon }}</mat-icon>
			<span>
				<p>{{ file.name }}</p>
				<p class="size">{{ formatBytes(file.size) }}</p>
			</span>
		</div>
	</div>
</div>
<div
	class="context-menu mat-elevation-z2"
	*ngIf="contextMenu"
	[style.top]="contextMenu.y + 'px'"
	[style.left]="contextMenu.x + 'px'"
	oncontextmenu="return false;"
>
	<div class="info">
		{{ contextMenu.file.name }}
		<br />
		<span style="opacity: 0.6;">
			{{ formatBytes(contextMenu.file.size) }}
		</span>
	</div>
	<button mat-button (click)="onContextMenuCopyUrl()">
		<mat-icon>link</mat-icon>
		<ng-container *ngIf="!contextMenu.copied">
			Copy URL to clipboard
		</ng-container>
		<ng-container *ngIf="contextMenu.copied">
			Copied!
		</ng-container>
	</button>
	<hr />
	<button mat-button disabled>
		<mat-icon>folder</mat-icon>
		Move
	</button>
	<button mat-button disabled>
		<mat-icon>create</mat-icon>
		Rename
	</button>
	<button mat-button (click)="onContextMenuDownload()">
		<mat-icon>get_app</mat-icon>
		Download
	</button>
	<hr />
	<button mat-button disabled>
		<mat-icon>delete</mat-icon>
		Delete
	</button>
</div>
